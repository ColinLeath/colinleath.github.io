<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Google AJAX Feed API - AJAX Slide Show Sample</title>
  <script src="http://www.google.com/jsapi"
    type="text/javascript"></script>
  <!-- script src="http://www.google.com/uds/solutions/slideshow/gfslideshow.js" -->
  <script src="http://colinleath.googlepages.com/gfslideshow.js"
    type="text/javascript"></script>

  <style type="text/css">
    .gss a img {border : none;
    text-decoration : none;
    
    
    }
    .gss {
      width: 204px;
      #height: 154px;
      height: 194px;
      color: #dddddd;
      background-color: #000000;
      padding: 4px;
    }

    #titlelink {
    display : block;
    text-decoration : none;
    color : #bbbbbb;
    font-size : 15px;
    font-family : Georgia, serif;
    font-weight : bold;
    position : absolute;
    height : 40px;
    overflow : hidden;
    top : 155px;
    text-align : center;
    width : 100%;

    }

  </style>
  <script type="text/javascript">
    function load() {
      //var samples = "http://dlc0421.googlepages.com/gfss.rss";
      //var samples = "http://www.google.com/reader/public/atom/user/09924010917790795361/label/sdfnlphotos";
      var samples = "http://www.google.com/reader/public/atom/user/09924010917790795361/label/sdtjdphvideos";
      var options = {
        //numResults : 6,
        displayTime : 4000,
        transistionTime : 600,
        linkTarget : google.feeds.LINK_TARGET_BLANK,
        scaleImages : true,
        fullControlPanel : true,
        fullControlPanelSmallIcons : true,
        pauseOnHover : false,
        fullControlPanelCursor : true,
        fullControlPanelFadeOutTime : 5000,
        thumbnailUrlResolver : myUrlResolver,
        transitionCallback : myTransitionHandler,
        transitionAnimationCallback : myAnimationHandler
      };
      new GFslideShow(samples, "slideshow", options);

      /**
       * return an image url associated with the entry
       * replace trailing _story.html with .jpg
       */
      function myUrlResolver(entry) {
        //var source;
        //if (entry.link.search(/picasa/i)!=-1) source='p';
        var mystr = entry.content;
        mystr = mystr.slice(mystr.search(/src/i)+5);
        mystr = mystr.slice(0,mystr.search(/"/));
        //if (entry.link.search(/photobucket/i)!=-1) source='pb';
        //if (entry.link.search(/flickr/i)!=-1) source='f';
        //alert (source);
        return mystr;
      }



      /**
       * Place the title of the entry under the image
       */
      function myTransitionHandler(entry, transitionTime, container) {
        //imageTitleSpan.innerHTML = entry.title;
        //this.container.innerHTML = entry.title;
        //container.imageTitle.innerHTML = '<a id="titlelink" href="' + entry.link + '" target="_blank">' + entry.title + '</a>';
        //alert (entry.title)
      }


      /**
       * Blend out the title.
       */
      function myAnimationHandler(percentComplete) {
        // SetOpacity is function defined to set the correct opacity.
        //setOpacity(imageTitleSpan, 1-percentComplete);
      }
      
    }
    google.load("feeds", "1");
    google.setOnLoadCallback(load);
  </script>



</head>

<body>
  <div id="body">
    <p>This widget was designed for the <a href="http://sdtjdph.blogspot.com/">SD/TJ Design, Plant, Harvest</a> sidebar. It is based on the <a href="http://www.google.com/uds/solutions/slideshow/index.html">Google AJAX slideshow</a>. It allows a Google Reader shared page that contains images to be used in the slideshow--you're not limited to using photo media feeds!</p>
    <div id="slideshow" class="gss">Loading...</div>
  </div>
</body>
</html>
